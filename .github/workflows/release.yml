name: Release

# TODO: revert once we have the PR ready

on:
  pull_request: {}

jobs:
  nuget:
    name: dotnet
    runs-on: ubuntu-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v3

      - name: Setup dotnet
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '8.x'
          dotnet-quality: 'preview'

      - run: dotnet pack -c Release -o dist
      - run: dotnet tool update -g docfx
      - run: docfx docs/docfx.json
